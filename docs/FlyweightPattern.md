# Flyweight Pattern
享元模式,运用共享技术有效地支持大量细粒度对象的复用。系统只使用少量的对象，而这些对象都很相似，状态变化很小，可以实现对象的多次复用。
由于 享元模式要求能够共享的对象必须是细粒度对象，因此它又称为轻量级模式，它是一种 对象结构型模式。

## 角色

- 享元接口(Flyweight)

所有具体享元类的超类或者接口，通过这个接口，Flyweight可以接受并作用于外部专题 

- 具体的享元实现(ConcreteFlyweight)：

指定内部状态，为内部状态增加存储空间。

- 享元工厂(FlyweightFactory)：

用来创建并管理Flyweight对象，它主要用来确保合理地共享Flyweight。
当用户请求一个Flyweight时，FlyweightFactory就会提供一个已经创建的Flyweight对象或者新建一个（如果不存在）。

- 非共享具体享元类(UnsharedConcreteFlyweight)：

非共享具体享元类。指出那些不需要共享的Flyweight子类。 


## 场景

- 如果一个系统中存在大量的相同或者相似的对象，由于这类对象的大量使用，会造成系统内存的耗费，可以使用享元模式来减少系统中对象的数量。
  
- 对象的大部分状态都可以外部化，可以将这些外部状态传入对象中。

## 优缺点

### 优点
- 减少系统中对象的个数

- 内部状态稳定

享元模式由于使用了外部状态，外部状态相对独立，不会影响到内部状态，所以享元模式使得享元对象能够在不同的环境被共享。

### 缺点
- 复杂化

由于享元模式需要区分外部状态和内部状态，使得应用程序在某种程度上来说更加复杂化了。


- 影响效率

为了使对象可以共享，享元模式需要将享元对象的状态外部化，而读取外部状态使得运行时间变长。 






